---
import Layout from "../layouts/es/Layout.astro";
import projectsData from '../lib/data/es/projects.json';
const sortedProjects = projectsData.projects.sort((a, b) => b.year - a.year);
---

<Layout title="Archivo | Rafa Canosa" description="Archivo completo de todos los proyectos creados por Rafa Canosa.">
    <main class="px-4 sm:px-6 lg:px-8">
        <header class="mb-8" id="start">
            <a href="/" class="group mb-2 inline-flex items-center font-semibold leading-tight text-teal-300">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="mr-1 h-4 w-4 rotate-180 transition-transform group-hover:-translate-x-2" aria-hidden="true">
                    <path fill-rule="evenodd" d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z" clip-rule="evenodd"></path>
                </svg>
                Rafa Canosa
            </a>
            <h1 class="text-4xl font-bold tracking-tight text-slate-200 sm:text-5xl">Todos los proyectos</h1>
        </header>
        <table class="table-fixed w-full">
            <thead class="sticky top-0 z-10 border-b border-slate-300/10 bg-slate-900/75 px-6 py-5 backdrop-blur">
              <tr>
                <th class="py-4 pr-8 text-sm font-semibold text-slate-200">AÃ±o</th>
                <th class="py-4 pr-8 text-sm font-semibold text-slate-200">Proyecto</th>
                <th class="hidden lg:table-cell py-4 pr-8 text-sm font-semibold text-slate-200">Hecho en</th>
                <th class="hidden lg:table-cell py-4 pr-8 text-sm font-semibold text-slate-200">Creado con</th>
                <th class="hidden sm:table-cell py-4 pr-8 text-sm font-semibold text-slate-200">Link</th>
              </tr>
            </thead>
            <tbody>
                {sortedProjects.map((project) => (
                <tr class="border-b border-slate-300/10 last:border-none">
                    <td class="py-4 pr-4 align-top text-sm">
                        <div class="translate-y-px">{project.year}</div>
                    </td>
                    <td class="py-4 pr-4 align-top font-semibold leading-snug text-slate-200">
                        <div>
                            <div class="block sm:hidden">
                                <a class="inline-flex items-baseline font-medium leading-tight text-slate-200 hover:text-teal-300 focus-visible:text-teal-300 sm:hidden group/link text-base" href={`/${project.slug}`} aria-label={`${project.name}`}>
                                    <span>{project.name}
                                        <span class="inline-block">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="inline-block h-4 w-4 shrink-0 transition-transform group-hover/link:-translate-y-1 group-hover/link:translate-x-1 group-focus-visible/link:-translate-y-1 group-focus-visible/link:translate-x-1 motion-reduce:transition-none ml-1 translate-y-px" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z" clip-rule="evenodd"></path>
                                            </svg>
                                        </span>
                                    </span>
                                </a>
                            </div>
                            <div class="hidden sm:block">{project.name}</div>
                        </div>
                    </td>
                    <td class="hidden py-4 pr-4 align-top text-sm lg:table-cell">
                        <div class="translate-y-px whitespace-nowrap">{project.madeAt}</div>
                    </td>
                    <td class="hidden py-4 pr-4 align-top text-sm lg:table-cell">
                        <ul class="flex -translate-y-1.5 flex-wrap">
                            {project.languages.map((tech) => (
                                <li class="my-1 mr-1.5">
                                    <div class="flex items-center rounded-full bg-teal-400/10 px-3 py-1 text-xs font-medium leading-5 text-teal-300">{tech}</div>
                                </li>
                            ))}
                        </ul>
                    </td>
                    <td class="hidden py-4 align-top sm:table-cell">
                        <ul class="translate-y-1">
                            <li class="mb-1 flex items-center">
                                <a href=`/${project.slug}` title={project.slug}  class="inline-flex items-baseline font-medium leading-tight text-slate-200 hover:text-teal-300 focus-visible:text-teal-300 text-sm">
                                    <span class="inline-block">
                                        {project.slug}
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="inline-block h-4 w-4 shrink-0 transition-transform group-hover:-translate-y-1 group-hover:translate-x-1 group-focus-visible:-translate-y-1 group-focus-visible:translate-x-1 motion-reduce:transition-none ml-0.5" aria-hidden="true">
                                            <path fill-rule="evenodd" d="M5.22 14.78a.75.75 0 001.06 0l7.22-7.22v5.69a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75h-7.5a.75.75 0 000 1.5h5.69l-7.22 7.22a.75.75 0 000 1.06z" clip-rule="evenodd"></path>
                                        </svg>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </td>
                </tr>
                ))}
            </tbody>
        </table>
        <a href="#start" class="btn bg-white text-black hover:bg-slate-200 hover:transition-colors mt-8 flex items-center gap-2">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.6568 8.96219L16.2393 10.3731L12.9843 7.10285L12.9706 20.7079L10.9706 20.7059L10.9843 7.13806L7.75404 10.3532L6.34314 8.93572L12.0132 3.29211L17.6568 8.96219Z" fill="currentColor" /></svg>
            Volver
        </a>
    </main>
</Layout>
